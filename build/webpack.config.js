/*
 * Webpack Config
 *
 * "Responsive" config, that has different options based on ENV values.
 *
 * NODE_ENV - set to 'production' for production build anything else for dev build
 * TARGET - set to 'server' will build for server app (nodejs), 'client' will build for client
 *
 * Actual config is generated by modules found in ./webpack/*.js based on TARGET.
 *
 *  - common.js - shared config between client and server
 *  - client.js - client build config
 *  - server.js - server build config
 */

const isProduction = process.env.NODE_ENV === 'production'
const isServer = process.env.TARGET === 'server'

module.exports = isServer
  ? require('./webpack/server')(isProduction)
  : require('./webpack/client')(isProduction)
